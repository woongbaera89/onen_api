{"version":3,"file":"static/webpack/static\\development\\pages\\brand.js.582eb51ec08a239e2dba.hot-update.js","sources":["webpack:///./comps/floatmenu.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\r\n\r\nfunction floatmenu({menu, handleClick}) {\r\n  const [selected, setselected] = useState(0);\r\n  const [fixed, setfixed] = useState(false);\r\n  const [right, setright] = useState(36);\r\n  const menuRef = useRef();\r\n  \r\n  const elementInViewport = (el) => {\r\n    var top = el.offsetTop;\r\n    var left = el.offsetLeft;\r\n    var width = el.offsetWidth;\r\n    var height = el.offsetHeight;\r\n  \r\n    while(el.offsetParent) {\r\n      el = el.offsetParent;\r\n      top += el.offsetTop;\r\n      left += el.offsetLeft;\r\n    }\r\n  \r\n    return (\r\n      top < (window.pageYOffset + window.innerHeight) &&\r\n      left < (window.pageXOffset + window.innerWidth) &&\r\n      (top + height) > window.pageYOffset &&\r\n      (left + width) > window.pageXOffset\r\n    );\r\n  }\r\n\r\n  const menuClick = (idx) => {\r\n    setselected(idx);\r\n    if(handleClick) handleClick(idx);\r\n  }\r\n\r\n  const listener = e => {\r\n    setfixed(menuRef.current.getBoundingClientRect().top <= 0)\r\n    setright(36+Math.max((document.body.offsetWidth-1364)/2, 0))\r\n\r\n    const els = document.getElementsByTagName(\"section\");\r\n    if(els && els.length > 0){\r\n      for(let i = 0; i < els.length; i++){\r\n        const el = els[i];\r\n        if(elementInViewport(el)){\r\n          setselected(idx);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const resize = e => {\r\n    setright(36+Math.max((document.body.offsetWidth-1364)/2, 0))\r\n  };\r\n\r\n  useEffect(() => {\r\n    setright(36+Math.max((document.body.offsetWidth-1364)/2, 0))\r\n    window.addEventListener(\"resize\", resize);\r\n    window.addEventListener(\"scroll\", listener);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", resize);\r\n      window.removeEventListener(\"scroll\", listener);\r\n    };\r\n  }, []);\r\n\r\n  return ( \r\n    <div>\r\n      <div className=\"move-top\" onClick={() => {\r\n        const el = document.getElementById(\"app\");\r\n        if(el) {\r\n          el.scrollIntoView({behavior: \"smooth\"});\r\n        }\r\n      }}>\r\n        {menu[0] === \"korean\" ? (\r\n          <img src=\"../static/ic_top_w.png\"/>\r\n        ) : (\r\n          <img src=\"../static/ic_top_b.png\"/>\r\n        )}\r\n      </div>\r\n      <div ref={menuRef} className={'box '+fixed}>\r\n        <ul>\r\n          {menu.map((each,idx) => (\r\n            <li key={\"m\"+idx} className={selected == idx} onClick={menuClick.bind(null, idx)}>\r\n              {each}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <style jsx>{`\r\n        .move-top {\r\n          position:fixed;\r\n          right:${right-36}px;\r\n          bottom:240px;\r\n          z-index:99;\r\n          width:70px;\r\n        }\r\n        .box{\r\n          position: relative;\r\n          margin-top:-3px;\r\n        }\r\n        .box.true ul {\r\n          position:fixed;\r\n          top:0;\r\n          right:${right}px;\r\n          z-index: 3;\r\n        }\r\n        ul, li {\r\n          list-style:none;\r\n          margin:0;\r\n          padding:0;\r\n        }\r\n        ul {\r\n          position:absolute;\r\n          right:36px;\r\n        }\r\n        li {\r\n          cursor:pointer;\r\n          font-size:23px;\r\n          font-weight:bold;\r\n          height:44px;\r\n          line-height:40px;\r\n          padding:0 18px;\r\n          min-width:80px;\r\n          border:3px solid #000;\r\n          background:#fff;\r\n          display:inline-block;\r\n          text-align:center;\r\n          margin-left:-3px;\r\n        }\r\n        li.true {\r\n          background:#FF7575;\r\n        }\r\n        @media only screen and (max-width: 960px)  {\r\n          .move-top {\r\n            position:fixed;\r\n            right:0px;\r\n            bottom:120px;\r\n            z-index:99;\r\n            width:32px;\r\n          }\r\n          .box{\r\n            position: relative;\r\n            margin-top:-3px;\r\n          }\r\n          .box.true ul {\r\n            position:fixed;\r\n            top:0px;\r\n            right:20px;\r\n            z-index: 1;\r\n          }\r\n          ul {\r\n            right:20px;\r\n          }\r\n          li {\r\n            font-size:11px;\r\n            height:22px;\r\n            line-height:20px;\r\n            padding: 0 9px;\r\n            border:2px solid #000;\r\n            min-width:38px;\r\n          }\r\n\r\n        }\r\n      `}</style>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default floatmenu"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAfA;AAAA;AAAA;AAAA;AAoGA;AACA;AACA;;;;A","sourceRoot":""}